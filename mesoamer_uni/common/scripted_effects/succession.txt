#Elective Succession effect - picks a new ruler based on the needs of the country

ES_weight_ruler = {
	#Default 
	change_variable = { which = mil_points_weight value = 2 }
	change_variable = { which = dip_points_weight value = 1 }
	change_variable = { which = adm_points_weight value = 1 }
	
	#Military Weighting
	if = {
		limit = {
			is_at_war = yes
		}
		change_variable = { which = mil_points_weight value = 1 }
	}
	
	if = {
		limit = {
			war_exhaustion = 5
		}
		change_variable = { which = mil_points_weight value = 1 }
	}
	
	if = {
		limit = {
			NOT = { prestige = 0 }
		}
		change_variable = { which = mil_points_weight value = 1 }
	}
	
	if = {
		limit = {
			NOT = { legitimacy = 70 }
		}
		change_variable = { which = mil_points_weight value = 1 }
	}
	
	if = {
		limit = {
			AND = {
				is_at_war = yes
				NOT = { war_score = 0 }
			}
		}
		change_variable = { which = mil_points_weight value = 2 }
	}
	
	#Diplomatic Weighting
	if = {
		limit = {
			NOT = { num_of_allies = 2 }
		}
		change_variable = { which = dip_points_weight value = 1 }
	}
	
	if = {
		limit = {
			num_of_diplomatic_relations = 10
		}
		change_variable = { which = dip_points_weight value = 1 }
	}
	
	if = {
		limit = {
			NOT = { num_of_free_diplomatic_relations = 1 }
		}
		change_variable = { which = dip_points_weight value = 1 }
	}
	
	if = {
		limit = {
			NOT = { diplomatic_reputation = 1 }
		}
		change_variable = { which = dip_points_weight value = 1 }
	}
	
	#Administrative Weighting
	if = {
		limit = {
			overextension_percentage = 0.75
		}
		change_variable = { which = adm_points_weight value = 1 }
	}
	
	if = {
		limit = {
			average_unrest = 5
		}
		change_variable = { which = adm_points_weight value = 1 }
	}
	
	if = {
		limit = {
			NOT = { stability = -1 }
		}
		change_variable = { which = adm_points_weight value = 1 }
	}
	
	if = {
		limit = {
			NOT = { stability = 1 }
		}
		change_variable = { which = adm_points_weight value = 1 }
	}
	
	if = {
		limit = {
			NOT = { religious_unity = 0.80 }
		}
		change_variable = { which = adm_points_weight value = 1 }
	}
}
