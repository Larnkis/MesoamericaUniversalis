estate_merchant = {
	icon = 3
	
	color = { 255 200 0 }
	
	keep_on_conquest = no
	
	min_territory = 10
	min_provinces_to_want_territory = 20
	
	#wanted_territory_modifier = {
	#	desc = EXAMPLE
	#	trigger = {
	#		government = example
	#	}	
	#	value = 5		
	#}
	
	trigger = {
		has_country_flag = has_merchants
	}
	
	province_trigger = {
		always = yes
	}	
	
	min_autonomy = 25
	
	#autonomy_does_not_affect = local_manpower_modifier
	
	country_modifier_happy = {
		trade_efficiency = 0.25
		trade_steering = 0.25
	}
	
	country_modifier_neutral = {
		trade_efficiency = 0.10
	}	
	country_modifier_angry = {
		trade_efficiency = -0.25
		trade_steering = -0.25
	}
	
	province_modifier_happy = {
		#local_trade_power = 5
		local_autonomy = -0.05
	}
	province_modifier_neutral = {
		#local_trade_power = 2.5
	}	
	province_modifier_angry = {
		local_autonomy = 0.20
	}		
	
	base_influence = 30
	influence_modifier = {
		desc = EST_MS_P1
		trigger = {
			has_country_flag = ms_repeal_sumptuary_laws
		}	
		influence = 15
	}
	
	influence_modifier = {
		desc = EST_MS_P2
		trigger = {
			has_country_flag = ms_permit_land_ownership
		}	
		influence = 10
	}
	
	influence_modifier = {
		desc = EST_MS_P3
		trigger = {
			has_country_flag = ms_oppress_foreign_merchants
		}	
		influence = 10
	}
	
	influence_modifier = {
		desc = EST_MS_P4
		trigger = {
			has_country_flag = ms_unlimited_trade
		}	
		influence = 10
	}
	
	influence_modifier = {
		desc = EST_MS_P5
		trigger = {
			has_country_flag = ms_guarantee_legal_protection
		}	
		influence = 10
	}
	
	#loyalty_modifier = {
	#	desc = EST_VAL_FULL_ARISTOCRATIC
	#	trigger = {
	#		full_idea_group = aristocracy_ideas
	#	}
	#	loyalty = 10
	#}
	
	#custom_name = {
	#	desc = estate_beys
	#	trigger = {
	#		technology_group = ottoman
	#	}
	#}
	
	ai_grant_province = {
		factor = 1	
		modifier = {
			factor = 0.5
			development = 2000
		}
		modifier = {
			factor = 2
			NOT = { development = 2000 }
		}				
		modifier = {
			factor = 0.75
			has_owner_culture = yes
		}
		modifier = {
			factor = 1.25
			province_trade_power = 5
		}			
		modifier = {
			factor = 1.5
			province_trade_power = 10
		}			
	}	
	
	interaction = {
		name = "GRANT_PRIV"
		icon = 1
		
		years_between_use = 0
		
		potential = {
			always = yes
		}
		
		trigger = {
			always = yes
		}
		
		effect = {
			country_event = { id = grantpriv.04 }
		}
		
		ai_will_do = {
			factor = 0			
		}
	}
	
	interaction = {
		name = "GRANT_FAV"
		icon = 7
		
		years_between_use = 0
		
		potential = {
			always = yes
		}
		
		trigger = {
			always = yes
		}
		
		effect = {
			hidden_effect = { 
				if = {
					limit = {
						MGI = {
							NOT = { has_country_modifier = mgi_favor_cooldown }
						}
					}
					
					if = {
						limit = {
							MGI = {
								is_variable_equal = { which = favor_request_type value = 3}
							}
						}
						MGI = {
							change_variable = { which = favor_request_type value = -3 }
							set_country_flag = picked_frt
						}
					}
					if = {
						limit = {
							MGI = { 
								is_variable_equal = { which = favor_request_type value = 2}
								NOT = { has_country_flag = picked_frt }
							}
						}
						MGI = {
							change_variable = { which = favor_request_type value = 1 }
							set_country_flag = picked_frt
						}
					}
					if = {
						limit = {
							MGI = {
								is_variable_equal = { which = favor_request_type value = 1}
								NOT = { has_country_flag = picked_frt }
							}
						}
						MGI = { 
							change_variable = { which = favor_request_type value = 1 }
							set_country_flag = picked_frt
						}
					}
					if = {
						limit = {
							MGI = {
								is_variable_equal = { which = favor_request_type value = 0}
								NOT = { has_country_flag = picked_frt }
							}
						}
						MGI = {
							change_variable = { which = favor_request_type value = 1 }
							set_country_flag = picked_frt
						}
					}
					MGI = { 
						clr_country_flag = picked_frt
					}
					clr_country_flag = EST_AN_F1_used
					clr_country_flag = EST_AN_F2_used
					clr_country_flag = EST_AN_F3_used
					clr_country_flag = EST_UN_F1_used
					clr_country_flag = EST_UN_F2_used
					clr_country_flag = EST_UN_F3_used
					clr_country_flag = EST_LN_F1_used
					clr_country_flag = EST_LN_F2_used
					clr_country_flag = EST_LN_F3_used
					clr_country_flag = EST_MS_F1_used
					clr_country_flag = EST_MS_F2_used
					clr_country_flag = EST_MS_F3_used
					clr_country_flag = EST_PH_F1_used
					clr_country_flag = EST_PH_F2_used
					clr_country_flag = EST_PH_F3_used
					MGI = {
						add_country_modifier = { 
							name = mgi_favor_cooldown
							duration = 2
						}
					}
				}
			}
			country_event = { id = grantfav.04 }
		}
		
		ai_will_do = {
			factor = 0			
		}
	}
	
	interaction = {
		name = "REQUEST_SUPPORT"
		icon = 6
		
		years_between_use = 0
		
		potential = {
			always = yes
		}
		
		trigger = {		
			estate_loyalty = {
				estate = estate_merchant
				loyalty = 30
			}
		}
		
		effect = {
			country_event = { id = requestsupport.10 }
		}
		
		ai_will_do = {
			factor = 0		
		}
	}
	
	interaction = {
		name = "WEAKEN_ESTATE"
		icon = 4
		
		years_between_use = 0
		
		potential = {
			always = yes
		}
		
		trigger = {		
			NOT = { has_country_modifier = weakened_ms }
			estate_influence = {
				estate = estate_merchant
				influence = 60
			}
		}
		
		effect = {
			country_event = { id = weakenms.01 }
		}
		
		ai_will_do = {
			factor = 0		
		}
	}
}