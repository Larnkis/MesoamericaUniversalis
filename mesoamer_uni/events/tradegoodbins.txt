namespace = bins 

#This event produces a bin for every province depending on its trade good
country_event = {
	id = bins.01

	title = "bins1.t"
	desc = "bins1.d"
	picture = ECONOMY_eventPicture

	trigger = {
		tag = FFM
		NOT = { has_country_modifier = bincooldown }
	}
	
	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		hidden_effect = {
			add_country_modifier = {
				name = "bincooldown"
				duration = 25
			}
		}
	}

	option = {
		name = "bins1.a"
		
		hidden_effect = {
		every_province = {
			if = {
				limit = {
					OR = {
						trade_goods = grain
					}
				}
				controller = {
					change_variable = { which = staplefoodbins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = fruits
						trade_goods = aquaticfoods
					}
				}
				controller = {
					change_variable = { which = luxuryfoodbins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = choclate
					}
				}
				controller = {
					change_variable = { which = cocoabins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = textiles
					}
				}
				controller = {
					change_variable = { which = textilebins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = obsidian
					}
				}
				controller = {
					change_variable = { which = obsidianbins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = preciousstones
					}
				}
				controller = {
					change_variable = { which = preciousbins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = plumes
					}
				}
				controller = {
					change_variable = { which = quetzalbins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = salt
					}
				}
				controller = {
					change_variable = { which = saltbins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = bronze
					}
				}
				controller = {
					change_variable = { which = copperbins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = gold
					}
				}
				controller = {
					change_variable = { which = goldbins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = lime
					}
				}
				controller = {
					change_variable = { which = limebins value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = lumber
					}
				}
				controller = {
					change_variable = { which = lumberstacks value = 1 }
				}
			}
		}
		}
	}
}