namespace = buildp 

country_event = {
	id = buildp.01
	
	title = "buildp1.t"
	desc = "buildp1.d"
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "buildp1.a"
		custom_tooltip = buildp1.a.ctt
		add_treasury = -1000
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt
				}
			}
			add_country_modifier = {
				name = greatpt1_greatpt2
				duration = -1
			}
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt2
				}
			}
			add_country_modifier = {
				name = greatpt2_greatpt3
				duration = -1
			}
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt3
				}
			}
			add_country_modifier = {
				name = greatpt3_greatpt4
				duration = -1
			}
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt4
				}
			}
			add_country_modifier = {
				name = greatpt4_greatpt5
				duration = -1
			}
		}
		
		hidden_effect = {
			country_event = { id = buildp.03 days = 365 }
		}
	}
}

country_event = {
	id = buildp.02
	
	title = "buildp2.t"
	desc = "buildp2.d"
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "buildp2.a"
		custom_tooltip = buildp2.a.ctt
		add_treasury = -1000
		
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp2 
				}
			}
			add_country_modifier = {
				name = hteocalli2_hteocalli3
				duration = -1
			}
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp3
				}
			}
			add_country_modifier = {
				name = hteocalli3_hteocalli4
				duration = -1
			}
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp4
				}
			}
			add_country_modifier = {
				name = hteocalli4_hteocalli5
				duration = -1
			}
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp5
				}
			}
			add_country_modifier = {
				name = hteocalli5_hteocalli6
				duration = -1
			}
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp6
				}
			}
			add_country_modifier = {
				name = hteocalli6_hteocalli7
				duration = -1
			}
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp7
				}
			}
			add_country_modifier = {
				name = hteocalli7_hteocalli8
				duration = -1
			}
		}
		
		hidden_effect = {
			country_event = { id = buildp.04 days = 365 }
		}
	}
}

#Expanding the Great Pyramid of X
country_event = {
	id = buildp.03
	
	title = "buildp3.t"
	desc = "buildp3.d"
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	
	option = { #Hold a massive celebration and invite all the lords 
		name = "buildp3.a"
		
		custom_tooltip = BLD_sld_d_025
		
		add_years_of_income = -0.80
		add_prestige = 20
		
if = {
			limit = {
				capital_scope = {
					has_building = greatpt4
				}
			}
			capital_scope = {
				remove_building = greatpt4
				add_building = greatpt5
			}
			
			remove_country_modifier = greatpt4_greatpt5
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt3
				}
			}
			capital_scope = {
				remove_building = greatpt3
				add_building = greatpt4
			}
			
			remove_country_modifier = greatpt3_greatpt4
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt2
				}
			}
			capital_scope = {
				remove_building = greatpt2
				add_building = greatpt3
			}
			
			remove_country_modifier = greatpt2_greatpt3
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt
				}
			}
			capital_scope = {
				remove_building = greatpt
				add_building = greatpt2
			}
			
			remove_country_modifier = greatpt1_greatpt2
		}
	}
	
	option = { #Hold a simple but effective ceremony for the city
		name = "buildp3.b"
		
		add_years_of_income = -0.40
		add_prestige = 15
		
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt4
				}
			}
			capital_scope = {
				remove_building = greatpt4
				add_building = greatpt5
			}
			
			remove_country_modifier = greatpt4_greatpt5
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt3
				}
			}
			capital_scope = {
				remove_building = greatpt3
				add_building = greatpt4
			}
			
			remove_country_modifier = greatpt3_greatpt4
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt2
				}
			}
			capital_scope = {
				remove_building = greatpt2
				add_building = greatpt3
			}
			
			remove_country_modifier = greatpt2_greatpt3
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt
				}
			}
			capital_scope = {
				remove_building = greatpt
				add_building = greatpt2
			}
			
			remove_country_modifier = greatpt1_greatpt2
		}

		
	}
	
	option = { #The temple speaks for itself!
		name = "buildp3.c"
		
		add_prestige = -15
		
if = {
			limit = {
				capital_scope = {
					has_building = greatpt4
				}
			}
			capital_scope = {
				remove_building = greatpt4
				add_building = greatpt5
			}
			
			remove_country_modifier = greatpt4_greatpt5
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt3
				}
			}
			capital_scope = {
				remove_building = greatpt3
				add_building = greatpt4
			}
			
			remove_country_modifier = greatpt3_greatpt4
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt2
				}
			}
			capital_scope = {
				remove_building = greatpt2
				add_building = greatpt3
			}
			
			remove_country_modifier = greatpt2_greatpt3
		}
		if = {
			limit = {
				capital_scope = {
					has_building = greatpt
				}
			}
			capital_scope = {
				remove_building = greatpt
				add_building = greatpt2
			}
			
			remove_country_modifier = greatpt1_greatpt2
		}
	}
}

#Expanding the Huey-Teocalli
country_event = {
	id = buildp.04
	
	title = "buildp4.t"
	desc = "buildp4.d"
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	
	option = { #Dedicate the ceremony to our patron god, Huitzilopochtli
		name = "buildp4.a"
		
		add_years_of_income = -0.50
		add_prestige = 10
		add_patriarch_authority = -0.25
		
		add_army_tradition = 15
		custom_tooltip = GOVS_sprt_i_0050
		
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp7
				}
			}
			capital_scope = {
				remove_building = tenoch_gp7
				add_building = tenoch_gp8
			}
			
			remove_country_modifier = hteocalli7_hteocalli8
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp6
				}
			}
			capital_scope = {
				remove_building = tenoch_gp6
				add_building = tenoch_gp7
			}
			
			remove_country_modifier = hteocalli6_hteocalli7
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp5
				}
			}
			capital_scope = {
				remove_building = tenoch_gp5
				add_building = tenoch_gp6
			}
			
			remove_country_modifier = hteocalli5_hteocalli6
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp4
				}
			}
			capital_scope = {
				remove_building = tenoch_gp4
				add_building = tenoch_gp5
			}
			
			remove_country_modifier = hteocalli4_hteocalli5
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp3
				}
			}
			capital_scope = {
				remove_building = tenoch_gp3
				add_building = tenoch_gp4
			}
			
			remove_country_modifier = hteocalli3_hteocalli4
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp2 
				}
			}
			capital_scope = {
				remove_building = tenoch_gp2
				add_building = tenoch_gp3
			}
			
			remove_country_modifier = hteocalli2_hteocalli3
		}
		
		hidden_effect = {
			change_variable = { which = religioustradition value = 5 }
		}
	}
	
	option = { #Dedicate the ceremony to our glorious ruler, $MONARCH$
		name = "buildp4.b"
		
		add_years_of_income = -0.50
		add_prestige = 10
		add_patriarch_authority = -0.25
		
		add_legitimacy = 10
		add_stability = 1
		
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp7
				}
			}
			capital_scope = {
				remove_building = tenoch_gp7
				add_building = tenoch_gp8
			}
			
			remove_country_modifier = hteocalli7_hteocalli8
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp6
				}
			}
			capital_scope = {
				remove_building = tenoch_gp6
				add_building = tenoch_gp7
			}
			
			remove_country_modifier = hteocalli6_hteocalli7
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp5
				}
			}
			capital_scope = {
				remove_building = tenoch_gp5
				add_building = tenoch_gp6
			}
			
			remove_country_modifier = hteocalli5_hteocalli6
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp4
				}
			}
			capital_scope = {
				remove_building = tenoch_gp4
				add_building = tenoch_gp5
			}
			
			remove_country_modifier = hteocalli4_hteocalli5
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp3
				}
			}
			capital_scope = {
				remove_building = tenoch_gp3
				add_building = tenoch_gp4
			}
			
			remove_country_modifier = hteocalli3_hteocalli4
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp2 
				}
			}
			capital_scope = {
				remove_building = tenoch_gp2
				add_building = tenoch_gp3
			}
			
			remove_country_modifier = hteocalli2_hteocalli3
		}
		
		hidden_effect = {
			change_variable = { which = religioustradition value = 5 }
		}
	}
	
	option = { #Focus on showing off our strength in the most absurd ways possible
		name = "buildp4.c"
		
		add_years_of_income = -0.50
		add_prestige = 30
		add_patriarch_authority = -0.25
		
		custom_tooltip = BLD_sld_d_025
		
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp7
				}
			}
			capital_scope = {
				remove_building = tenoch_gp7
				add_building = tenoch_gp8
			}
			
			remove_country_modifier = hteocalli7_hteocalli8
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp6
				}
			}
			capital_scope = {
				remove_building = tenoch_gp6
				add_building = tenoch_gp7
			}
			
			remove_country_modifier = hteocalli6_hteocalli7
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp5
				}
			}
			capital_scope = {
				remove_building = tenoch_gp5
				add_building = tenoch_gp6
			}
			
			remove_country_modifier = hteocalli5_hteocalli6
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp4
				}
			}
			capital_scope = {
				remove_building = tenoch_gp4
				add_building = tenoch_gp5
			}
			
			remove_country_modifier = hteocalli4_hteocalli5
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp3
				}
			}
			capital_scope = {
				remove_building = tenoch_gp3
				add_building = tenoch_gp4
			}
			
			remove_country_modifier = hteocalli3_hteocalli4
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp2 
				}
			}
			capital_scope = {
				remove_building = tenoch_gp2
				add_building = tenoch_gp3
			}
			
			remove_country_modifier = hteocalli2_hteocalli3
		}
		
		hidden_effect = {
			change_variable = { which = religioustradition value = 5 }
		}
	}
	
	option = { #No ceremony this time, actually.
		name = "buildp4.dd"
		
		add_prestige = -75
		
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp7
				}
			}
			capital_scope = {
				remove_building = tenoch_gp7
				add_building = tenoch_gp8
			}
			
			remove_country_modifier = hteocalli7_hteocalli8
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp6
				}
			}
			capital_scope = {
				remove_building = tenoch_gp6
				add_building = tenoch_gp7
			}
			
			remove_country_modifier = hteocalli6_hteocalli7
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp5
				}
			}
			capital_scope = {
				remove_building = tenoch_gp5
				add_building = tenoch_gp6
			}
			
			remove_country_modifier = hteocalli5_hteocalli6
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp4
				}
			}
			capital_scope = {
				remove_building = tenoch_gp4
				add_building = tenoch_gp5
			}
			
			remove_country_modifier = hteocalli4_hteocalli5
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp3
				}
			}
			capital_scope = {
				remove_building = tenoch_gp3
				add_building = tenoch_gp4
			}
			
			remove_country_modifier = hteocalli3_hteocalli4
		}
		if = {
			limit = {
				capital_scope = {
					has_building = tenoch_gp2 
				}
			}
			capital_scope = {
				remove_building = tenoch_gp2
				add_building = tenoch_gp3
			}
			
			remove_country_modifier = hteocalli2_hteocalli3
		}
		
		hidden_effect = {
			change_variable = { which = religioustradition value = 5 }
		}
	}
}
