namespace = ppcalc

country_event = {
	id = ppcalc.01

	title = "ppcalc1.t"
	desc = "ppcalc1.d"
	picture = CITY_VIEW_eventPicture

	is_triggered_only = yes

	#hidden = yes

	option = {
		name = "ppcalc1.a"
		
		every_province = {
			subtract_variable = { which = provpp which = provpp }
			
			#From Terrain
			if = {
				limit = {
					has_terrain = grasslands
				}
				change_variable = { which = provpp value = 40 }
			}
			if = {
				limit = {
					has_terrain = hills
				}
				change_variable = { which = provpp value = 30 }
			}
			if = {
				limit = {
					has_terrain = mountain
				}
				change_variable = { which = provpp value = 25 }
			}
			if = {
				limit = {
					has_terrain = desert
				}
				change_variable = { which = provpp value = 15 }
			}
			
			#Capital of a Kingdom
			if = {
				limit = {
					is_capital = yes
					owner = {
						government_rank = 2
						NOT = { government_rank = 3 }
					}
				}
				change_variable = { which = provpp value = 60 }
			}
			
			#Capital of an Empire
			if = {
				limit = {
					is_capital = yes
					owner = {
						government_rank = 3
					}
				}
				change_variable = { which = provpp value = 150 }
			}
			
			#Is a Major Trade Center
			if = {
				limit = {
					has_province_modifier = major_trade_center
				}
				change_variable = { which = provpp value = 10 }
			}
			
			#Buildings
			if = {
				limit = {
					has_building = farm1
				}
				change_variable = { which = provpp value = 10 }
			}
			
			if = {
				limit = {
					has_building = farm2
				}
				change_variable = { which = provpp value = 20 }
			}
		}
	}
}