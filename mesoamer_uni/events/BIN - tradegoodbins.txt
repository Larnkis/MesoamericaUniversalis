namespace = bins 

#This event produces a bin for every province depending on its trade good
country_event = {
	id = bins.01

	title = "bins1.t"
	desc = "bins1.d"
	picture = ECONOMY_eventPicture

	is_triggered_only = yes
	
	#trigger = {
	#	tag = AZC
	#	NOT = { has_country_modifier = bincooldown }
	#}
	
	immediate = {
		AZC = {
			country_event = { id = bins.01 days = 30 }
		}
		
		every_country = {
			country_event = { id = rrisk.01 days = 30 }
		}
		hidden_effect = {
			add_country_modifier = {
				name = "bincooldown"
				duration = 29
			}
		}
	}

	option = {
		name = "bins1.a"
		
		hidden_effect = {
		every_province = {
			controller = {
				random_list = {
					60 = {
						change_variable = { which = militarysupplies value = 1 }
					}
					40 = {
						#Nothing Produced
					}
				}
				random_list = {
					60 = {
						change_variable = { which = buildingsupplies value = 1 }
					}
					40 = {
						#Nothing Produced
					}
				}
				random_list = {
					75 = {
						change_variable = { which = staplefooditems value = 1 }
					}
					25 = {
						#Nothing Produced
					}
				}
				random_list = {
					50 = {
						change_variable = { which = luxuryfooditems value = 1 }
					}
					50 = {
						#Nothing Produced
					}
				}
				random_list = {
					40 = {
						change_variable = { which = luxurygoods value = 1 }
					}
					60 = {
						#Nothing Produced
					}
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = grain
						trade_goods = aquaticfoods
					}
				}
				controller = {
					change_variable = { which = staplefooditems value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = fruits
						trade_goods = choclate
						trade_goods = salt
					}
				}
				controller = {
					change_variable = { which = luxuryfooditems value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = textiles
						trade_goods = preciousstones
						trade_goods = plumes
						trade_goods = bronze
						trade_goods = gold
					}
				}
				controller = {
					change_variable = { which = luxurygoods value = 1 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = obsidian
					}
				}
				controller = {
					change_variable = { which = militarysupplies value = 2 }
				}
			}
			if = {
				limit = {
					OR = {
						trade_goods = lime
						trade_goods = lumber 
					}
				}
				controller = {
					change_variable = { which = buildingsupplies value = 2 }
				}
			}
		}
		}
	}
}